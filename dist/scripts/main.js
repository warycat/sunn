paper.install(window);var tick=0,SUNN=function(){var a=function(){return moment().add(100*tick,"second")},b=768,c=1024,d=4,e=150,f=10,g=new Point(b/2,c/2),h="#fee990",i="#ffffff",j="#104eb3",k="#1188f2",l="#0d73cc",m=[j,k,l],n=new Point(0,0),o=new Point(b,c),p=new Point(b/2,0),q=new Point(b/2,c),r=new Point(b,c/2),s="Lights synched with sunn",t=40,u="#ffffff",v=new Point(b/2,100),w=function(){var b=a().format("hh"),c=a().format("mm"),d=moment().format("s");return b+(d%2?":":" ")+c},x=80,y="#e18422",z=new Point(b/2,c/2),A=function(){return a().format("MMM Do, YYYY")},B=20,C="#e18422",D=new Point(b/2,c/2+30),E="Boulder Colorado",F=30,G="#ffffff",H=new Point(b/2,c-45),I=new Point(60,80),J=.3,K=new Point(200,c-60),L=.1,M=40,N=r,O=50,P=5,Q=new Point(N.x-O,N.y),R=new Point(N.x,N.y),S=100,T=20,U=3,V=20,W=10,X=1,Y=new Point(r);return{currentMoment:a,width:b,height:c,sunLayers:d,radius:e,center:g,increment:f,sunColor:h,lightColor:i,skyColors:m,topLeft:n,bottomRight:o,topMiddle:p,bottomMiddle:q,middleRight:r,titleText:s,titlePosition:v,titleSize:t,titleColor:u,clockText:w,clockSize:x,clockColor:y,clockPosition:z,dateText:A,dateSize:B,dateColor:C,datePosition:D,cityText:E,citySize:F,cityColor:G,cityPosition:H,iconPosition:I,iconScale:J,globePosition:K,globeScale:L,globeRadius:M,markF:Q,markT:R,markWidth:P,rulerZeroPosition:Y,rulerSpacing:S,rulerWidth:U,rulerLength:T,rulerTextSize:V,rulerTextSpacing:W,rulerDirection:X}}();$(function(){function a(){var a=SUNN.currentMoment().hour()%12;this.visible=this.h-1<a?!1:!0}function b(){if(tick%30===0){var a=new Path.Circle({center:SUNN.center,radius:SUNN.radius,fillColor:SUNN.lightColor,opacity:1,onFrame:function(){this.scale(1.003),this.life--,this.opacity=this.life/100,0===this.life&&this.remove()}});a.life=100,a.insertBelow(d)}}var c=$("canvas")[0];paper.setup(c),new Path.Rectangle({topLeft:SUNN.topLeft,bottomRight:SUNN.bottomRight,fillColor:{gradient:{stops:SUNN.skyColors},origin:SUNN.topMiddle,destination:SUNN.bottomMiddle}});var d=new Path.Circle({center:SUNN.center,radius:SUNN.radius,fillColor:SUNN.sunColor});new PointText({point:SUNN.titlePosition,content:SUNN.titleText,fillColor:SUNN.titleColor,justification:"center",fontFamily:"arial,helvetica",fontSize:SUNN.titleSize}),new PointText({point:SUNN.clockPosition,content:SUNN.clockText(),fillColor:SUNN.clockColor,justification:"center",fontFamily:"arial,helvetica",fontSize:SUNN.clockSize,onFrame:function(){this.content=SUNN.clockText()}}),new PointText({point:SUNN.datePosition,content:SUNN.dateText(),fillColor:SUNN.dateColor,justification:"center",fontFamily:"arial,helvetica",fontSize:SUNN.dateSize,onFrame:function(){this.content=SUNN.dateText()}}),new PointText({point:SUNN.cityPosition,content:SUNN.cityText,fillColor:SUNN.cityColor,justification:"center",fontFamily:"arial,helvetica",fontSize:SUNN.citySize}),new Raster({source:"https://cloud.githubusercontent.com/assets/1858099/3948391/b321a62e-26a4-11e4-98a0-530fe1c5de09.png",position:SUNN.iconPosition}).scale(SUNN.iconScale),new Path.Circle({radius:SUNN.globeRadius,center:SUNN.globePosition,fillColor:SUNN.lightColor,opacity:.5}),new Raster({source:"https://cloud.githubusercontent.com/assets/1858099/3948392/b56e30e6-26a4-11e4-9bcd-7f35cf3e3755.png",position:SUNN.globePosition,opacity:.5}).scale(SUNN.globeScale),new Path.Line({from:SUNN.markF,to:SUNN.markT,strokeColor:"white",strokeWidth:SUNN.markWidth,strokeCap:"round"});for(var e=new Group,f=new Group,g=0;12>=g;g++){var h=new Path.Line({from:new Point(SUNN.rulerZeroPosition.x-SUNN.rulerLength,SUNN.rulerZeroPosition.y+g*SUNN.rulerDirection*SUNN.rulerSpacing),to:new Point(SUNN.rulerZeroPosition.x,SUNN.rulerZeroPosition.y+g*SUNN.rulerDirection*SUNN.rulerSpacing),strokeColor:"white",strokeWidth:SUNN.rulerWidth,strokeCap:"square"}),i=new PointText({point:new Point(SUNN.rulerZeroPosition.x-SUNN.rulerLength-SUNN.rulerTextSpacing,SUNN.rulerZeroPosition.y+g*SUNN.rulerDirection*SUNN.rulerSpacing+7),content:g+"",justification:"right",fillColor:"white",fontSize:SUNN.rulerTextSize});e.addChild(h),e.addChild(i);var j=new Path.Line({from:new Point(SUNN.rulerZeroPosition.x-SUNN.rulerLength,SUNN.rulerZeroPosition.y-g*SUNN.rulerDirection*SUNN.rulerSpacing),to:new Point(SUNN.rulerZeroPosition.x,SUNN.rulerZeroPosition.y-g*SUNN.rulerDirection*SUNN.rulerSpacing),strokeColor:"white",strokeWidth:SUNN.rulerWidth,strokeCap:"square"}),k=new PointText({point:new Point(SUNN.rulerZeroPosition.x-SUNN.rulerLength-SUNN.rulerTextSpacing,SUNN.rulerZeroPosition.y-g*SUNN.rulerDirection*SUNN.rulerSpacing+7),content:g+"",justification:"right",fillColor:"white",fontSize:SUNN.rulerTextSize});f.addChild(j),f.addChild(k),h.h=g,j.h=g,i.h=g,k.h=g,h.onFrame=a,j.onFrame=a,i.onFrame=a,k.onFrame=a}e.offset=0,f.offset=0,e.onFrame=function(){e.translate(new Point(0,+e.offset)),e.offset=12*SUNN.rulerSpacing*(SUNN.currentMoment().minute()+SUNN.currentMoment().hour()%12*60)/720,e.translate(new Point(0,-e.offset))},f.onFrame=function(){f.translate(new Point(0,-f.offset)),f.offset=12*SUNN.rulerSpacing*(SUNN.currentMoment().minute()+SUNN.currentMoment().hour()%12*60)/720,f.translate(new Point(0,+f.offset))},view.onFrame=function(a){tick=a.count,b();var c=SUNN.currentMoment().hour();console.log(c),12>c?(e.visible=!1,f.visible=!0):(f.visible=!1,e.visible=!0)}});